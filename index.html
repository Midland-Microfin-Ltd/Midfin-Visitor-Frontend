
<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover" />
    
    <!-- PWA Meta Tags for App-like Experience -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Midland Visitor">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="application-name" content="Midland Visitor">
    <meta name="theme-color" content="#0a1929">
    <meta name="msapplication-navbutton-color" content="#0a1929">
    <meta name="msapplication-TileColor" content="#0a1929">
    
    <!-- iOS App Icons -->
    <link rel="apple-touch-icon" href="/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-touch-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="167x167" href="/apple-touch-icon-167x167.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon-180x180.png">
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="/manifest.json" />
    
    <title>VMS</title>
    
    <!-- Prevent address bar showing on mobile -->
    <script>
      (function() {
        // Function to set proper viewport height for mobile
        function setViewportHeight() {
          // First we get the viewport height and we multiple it by 1% to get a value for a vh unit
          let vh = window.innerHeight * 0.01;
          // Then we set the value in the --vh custom property to the root of the document
          document.documentElement.style.setProperty('--vh', `${vh}px`);
          
          // For iOS Safari to prevent rubber-band scrolling
          document.body.style.height = `${window.innerHeight}px`;
          
          // Hide browser UI
          setTimeout(function() {
            window.scrollTo(0, 1);
          }, 0);
        }
        
        // Initial call
        setViewportHeight();
        
        // Update on resize and orientation change
        window.addEventListener('resize', setViewportHeight);
        window.addEventListener('orientationchange', setViewportHeight);
        
        // Prevent pull-to-refresh on mobile
        document.addEventListener('touchmove', function (e) {
          if (e.touches.length !== 1) return;
          e.preventDefault();
        }, { passive: false });
        
        // Prevent zoom on double-tap
        let lastTouchEnd = 0;
        document.addEventListener('touchend', function (event) {
          const now = (new Date()).getTime();
          if (now - lastTouchEnd <= 300) {
            event.preventDefault();
          }
          lastTouchEnd = now;
        }, false);
        
        // Prevent context menu on long press
        document.addEventListener('contextmenu', function(e) {
          e.preventDefault();
          return false;
        });
        
        // Register service worker for PWA
        if ('serviceWorker' in navigator && window.location.hostname !== 'localhost') {
          window.addEventListener('load', function() {
            navigator.serviceWorker.register('/service-worker.js');
          });
        }
      })();
    </script>
    
    <style>
      /* Prevent overscroll glow and bounce effects */
      html, body {
        margin: 0;
        padding: 0;
        overflow: hidden;
        overscroll-behavior: none;
        -webkit-overflow-scrolling: touch;
        height: 100vh;
        height: calc(var(--vh, 1vh) * 100);
        background-color: #0a1929;
      }
      
      /* Hide scrollbars but keep functionality */
      ::-webkit-scrollbar {
        display: none;
      }
      
      /* Prevent text selection */
      * {
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
      }
      
      /* Allow text selection in inputs and textareas */
      input, textarea, [contenteditable="true"] {
        -webkit-user-select: text;
        -moz-user-select: text;
        -ms-user-select: text;
        user-select: text;
      }
      
      /* iOS specific fixes */
      @supports (-webkit-touch-callout: none) {
        body {
          /* iOS Safari needs this to prevent rubber band effect */
          position: fixed;
          width: 100%;
          height: 100%;
        }
      }
    </style>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.jsx"></script>
  </body>
</html>
